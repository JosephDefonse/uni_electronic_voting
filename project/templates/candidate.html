{% extends 'base.html' %}

{% block title %}New Ballot{% endblock %}

{% block styles %}
<style>
  /* Add your existing styles from base.html */

  .header {
        text-align: left;
        padding-left: 30px;
        padding-top: 65px;
        padding-bottom: 20px;
        background-color: #f8f9fa; /* Light gray background */
    }

  label {
    display: block;
    margin-top: 20px;
  }

  input[type="text"], select {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
  }

  .toggle-switch {
    margin: 10px 0;
  }

  .toggle-switch input {
    display: none;
  }

  .toggle-switch label {
    padding: 10px 20px;
    border: 1px solid #ccc;
    border-radius: 20px;
    background-color: #f6f6f6;
    cursor: pointer;
  }

  .toggle-switch input:checked + label {
    background-color: #007bff;
    color: white;
  }

  .form-section {
    background-color: #f6f6f6;
    padding: 20px;
    margin-bottom: 10px;
  }

  .form-section:last-of-type {
    margin-bottom: 0;
  }

  .save-button {
    float: right;
    padding: 10px 20px;
    margin-top: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .btn-group {
  display: flex;
  justify-content: start;
  z-index: 0; /* Increase the z-index so it's above the page content */
}

.btn {
  cursor: pointer;
  margin-right: 10px; /* Add some space between buttons */
  border: 1px solid #ccc;
  background-color: #fff;
  padding: 10px 20px;
  user-select: none; /* Prevent text selection */
}

.btn input[type="radio"] {
  display: none; /* Hide the actual radio button */
}

.btn.active,
.btn:active {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}

</style>
{% endblock %}

{% block content %}
<form id="new-candidate-form" action="{{ url_for('submit_candidate', election_id=election_id) }}" method="post">
    <div class="form-section" style="padding-top: 80px;">
        <!-- Include existing form elements here -->

        <!-- New Input Fields -->
        <label for="first-name">First Name:</label>
        <input type="text" id="first-name" name="student_first_name" required maxlength="255">

        <label for="last-name">Last Name:</label>
        <input type="text" id="last-name" name="student_last_name" required maxlength="255">

        <label for="email">Email:</label>
        <input type="email" id="email" name="student_email" required maxlength="255" pattern=".+@.+">

        <label for="faculty">Faculty:</label>
        <select id="faculty" name="faculty" required>
            <option value="Arts">Arts</option>
            <option value="Business and Economics">Business and Economics</option>
            <option value="Education">Education</option>
            <option value="Engineering">Engineering</option>
            <option value="Information Technology">Information Technology</option>
            <option value="Law">Law</option>
            <option value="Medicine/Nursing">Medicine/Nursing</option>
            <option value="Pharmacy">Pharmacy</option>
            <option value="Science">Science</option>
        </select>

        <label for="degree">Degree:</label>
        <input type="text" id="degree" name="degree" required maxlength="255">

        <label for="year">Year Level:</label>
        <input type="number" id="year" name="year" required min="1">

        <label for="gender">Gender:</label>
        <select id="gender" name="gender" required>
            <option value="M">Male</option>
            <option value="F">Female</option>
            <option value="Other">Other</option>
        </select>

        <label for="ethnicity">Ethnicity:</label>
        <select id="ethnicity" name="ethnicity" required>
          <option value="Asian">Asian</option>
          <option value="Black/African">Black/African</option>
          <option value="Caucasian">Caucasian</option>
          <option value="Hispanic/Latinx">Hispanic/Latinx</option>
          <option value="Native American">Native American</option>
          <option value="Pacific Islander">Pacific Islander</option>
          <option value="Mixed Race">Mixed Race</option>
          <option value="Other">Other</option>
      </select>

        <label for="position">Position:</label>
        <select id="position" name="position" required>
          <option value="President">President</option>
          <option value="Vice President">Vice President</option>
          <option value="Secretary">Secretary</option>
          <option value="Treasurer">Treasurer</option>
      </select>

        <!-- Submit Button -->
        <input type="submit" value="Save" class="save-button">
    </div>
</form>

<script>
document.getElementById('new-candidate-form').addEventListener('submit', function(event) {
    var email = document.getElementById('email').value;
    if (!email.includes('@')) {
        alert('Email must contain an @ symbol.');
        event.preventDefault(); // Prevent form submission
    }
});
</script>
{% endblock %}